(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{591:function(v,t,a){"use strict";a.r(t);var n=a(20),_=Object(n.a)({},(function(){var v=this,t=v.$createElement,a=v._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[a("p",[v._v("vn.py")]),v._v(" "),a("p",[v._v("[toc]")]),v._v(" "),a("h2",{attrs:{id:"general"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#general"}},[v._v("#")]),v._v(" general")]),v._v(" "),a("h3",{attrs:{id:"vn-py-、-vn-studio、-vn-station、-vn-trader-区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vn-py-、-vn-studio、-vn-station、-vn-trader-区别"}},[v._v("#")]),v._v(" vn.py 、 VN Studio、 VN Station、 VN Trader  区别")]),v._v(" "),a("ul",[a("li",[a("p",[v._v("vn.py：开源量化交易框架，以下所有功能的核心底层，注意只有它名字是小写的~")])]),v._v(" "),a("li",[a("p",[v._v("VN Studio：针对量化交易专门打包的Python发行版，包含了Python解释器以及一系列量化交易常用的三方库，完整支持vn.py")])]),v._v(" "),a("li",[a("p",[v._v("VN Station：用于管理VN Trader以及其他Python量化交易应用的图形化管理工具（帮你省去写脚本或者用命令行的麻烦）")])]),v._v(" "),a("li",[a("p",[v._v("VN Trader：vn.py框架中的开箱即用专业量化交易平台，灵活加载各类交易接口（期货、股票、期权、外汇、数字货币），支持诸多量化交易用（CTA策略、算法交易、脚本策略、行情录制、RPC服务等等）")])])]),v._v(" "),a("h3",{attrs:{id:"最为常见的接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最为常见的接口"}},[v._v("#")]),v._v(" 最为常见的接口")]),v._v(" "),a("ul",[a("li",[v._v("国内期货：上期技术CTP接口")]),v._v(" "),a("li",[v._v("数字货币：比特币合约BitMEX接口")]),v._v(" "),a("li",[v._v("海外市场：盈透证券IB接口")]),v._v(" "),a("li",[v._v("A股证券：中泰证券XTP接口")])]),v._v(" "),a("h3",{attrs:{id:"每个交易所的合约命名规则有所区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#每个交易所的合约命名规则有所区别"}},[v._v("#")]),v._v(" 每个交易所的合约命名规则有所区别：")]),v._v(" "),a("ul",[a("li",[v._v("中金所CFFEX：字母部分大写，年份数字为2位，举例IF1908")]),v._v(" "),a("li",[v._v("上期所SHFE：字母部分小写，年份数字为2位，举例rb1910")]),v._v(" "),a("li",[v._v("能源交易所INE：字母部分小写，年份数字为2位，举例sc1910")]),v._v(" "),a("li",[v._v("大商所DCE：字母部分小写，年份数字为2位，举例m1911")]),v._v(" "),a("li",[v._v("郑商所CZCE：字母部分大写，年份数字为1位，举例TA910")])]),v._v(" "),a("h2",{attrs:{id:"simnow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#simnow"}},[v._v("#")]),v._v(" SimNow")]),v._v(" "),a("p",[v._v("[[Simnow-CTPopen-Nsight#选择3（对应SimNow第二套）7x24h【电信】]]")]),v._v(" "),a("p",[v._v("各个字段的填写如下：")]),v._v(" "),a("ul",[a("li",[v._v("用户名：SimNow的investorId")]),v._v(" "),a("li",[v._v("密码：SimNow的密码")]),v._v(" "),a("li",[v._v("经纪商代码：9999")]),v._v(" "),a("li",[v._v("交易服务器：180.168.146.187:10101")]),v._v(" "),a("li",[v._v("行情服务器：180.168.146.187:10111")]),v._v(" "),a("li",[v._v("产品名称：simnow_client_test")]),v._v(" "),a("li",[v._v("授权编码：0000000000000000（16个0）")]),v._v(" "),a("li",[v._v("产品信息：留空不用填")])]),v._v(" "),a("p",[v._v("其中交易和行情服务器，一共有三组选择，前两组只能在交易时段登录（周一到周五，日盘和夜盘时段），提供和实盘环境一致的行情和撮合：")]),v._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://mp.weixin.qq.com/s/OoKLllZGCr6kvnLu0WFxdA",target:"_blank",rel:"noopener noreferrer"}},[v._v("vn.py无缝接入CTP接口兼容模拟交易平台"),a("OutboundLink")],1)])]),v._v(" "),a("h2",{attrs:{id:"ib"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ib"}},[v._v("#")]),v._v(" IB")]),v._v(" "),a("p",[a("a",{attrs:{href:"https://mp.weixin.qq.com/s?__biz=MzI1MTQ2Njc5OQ==&mid=2247483777&idx=2&sn=e2fc65336089f66eab53a14128cce07d&chksm=e9f3c4c1de844dd78ff3c8fa26fdb3d89d75a8d00988ab6e5c1312e34b7f2fdb1f3595cb4de8&scene=178&cur_album_id=1357148569324879874#rd",target:"_blank",rel:"noopener noreferrer"}},[v._v("vn.py快速入门4 - 海外市场IB"),a("OutboundLink")],1)]),v._v(" "),a("h3",{attrs:{id:"login"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#login"}},[v._v("#")]),v._v(" Login")]),v._v(" "),a("ul",[a("li",[v._v("Live Trading：实盘账户")]),v._v(" "),a("li",[v._v("Paper Trading：仿真账户\n"),a("ul",[a("li",[v._v("socket port:\n"),a("ul",[a("li",[v._v("tws: 7497")]),v._v(" "),a("li",[v._v("IBgateway:  4002")])])])])]),v._v(" "),a("li",[v._v("Demo Trading：演示账户\n"),a("ul",[a("li",[v._v("socket port:\n"),a("ul",[a("li",[v._v("tws: 7496")])])])])])]),v._v(" "),a("p",[v._v("其中Paper Trading和Live Trading高度类似，提供接近实盘交易行情以及撮合成交（像CTP的第一套环境），而Demo Trading则只提供历史行情的回放，满足交易接口测试的需求（像CTP的第二套7X24小时环境）")]),v._v(" "),a("p",[v._v("然后进入到“右上角SET->API->“Settings”来进行API接入相关的配置：")]),v._v(" "),a("ul",[a("li",[v._v("勾选“Enable ActiveX and Socket Clients”，允许外部程序接入TWS；")]),v._v(" "),a("li",[v._v("勾选“Download open orders on connection”，在外部程序连上TWS时获取所有未成交委托信息；")]),v._v(" "),a("li",[v._v("记录你的端口号“Socket Port”（我这里是7497），将用于后续从VN Trader发起到TWS的连接；")]),v._v(" "),a("li",[v._v("点击“OK”按钮，保存配置.")])]),v._v(" "),a("p",[v._v("各个字段的填写如下：")]),v._v(" "),a("ul",[a("li",[v._v("TWS地址：127.0.0.1（本机IP地址）")]),v._v(" "),a("li",[v._v("TWS端口：7497（之前步骤）")]),v._v(" "),a("li",[v._v("客户号：填写1即可（除非你有多个进程连接TWS）")])]),v._v(" "),a("p",[v._v("需要强调的是，"),a("strong",[v._v("和CTP等其他API从本地交易程序直连远端服务器的模式不同，IB API的连接是从本地交易程序（如VN Trader），到本地的客户端TWS，背后由TWS负责维护从本地到IB服务器的连接")]),v._v("。")]),v._v(" "),a("p",[v._v("相关的合约信息：https://www.interactivebrokers.com.hk/cn/index.php?f=5430.")]),v._v(" "),a("p",[v._v("注意在VN Trader中，针对IB接口所使用的交易合约代码，是该合约"),a("strong",[v._v("在IB系统内的唯一标识符Conid，全称Contract Identifier，注意Conid为一串纯数字，不要和Symbol或者Description Name搞混")]),v._v("。")]),v._v(" "),a("p",[v._v("![[Pasted image 20211030154320.png]]")]),v._v(" "),a("h3",{attrs:{id:"note"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#note"}},[v._v("#")]),v._v(" Note")]),v._v(" "),a("p",[v._v("vnpy.gateway.ib.ib_gateway")]),v._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[v._v("IB Symbol Rules\n\nSPY-USD-STK   SMART\nEUR-USD-CASH  IDEALPRO\nXAUUSD-USD-CMDTY  SMART\nES-202002-USD-FUT  GLOBEX\nSI-202006-1000-USD-FUT  NYMEX\nES-2020006-C-2430-50-USD-FOP  GLOBEX\n")])]),v._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[v._v("1")]),a("br"),a("span",{staticClass:"line-number"},[v._v("2")]),a("br"),a("span",{staticClass:"line-number"},[v._v("3")]),a("br"),a("span",{staticClass:"line-number"},[v._v("4")]),a("br"),a("span",{staticClass:"line-number"},[v._v("5")]),a("br"),a("span",{staticClass:"line-number"},[v._v("6")]),a("br"),a("span",{staticClass:"line-number"},[v._v("7")]),a("br"),a("span",{staticClass:"line-number"},[v._v("8")]),a("br")])]),a("ul",[a("li",[v._v("IDEALPRO\n"),a("ul",[a("li",[v._v("USD-CNH-CASH")])])])])])}),[],!1,null,null,null);t.default=_.exports}}]);