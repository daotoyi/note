(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{578:function(t,s,a){"use strict";a.r(s);var n=a(20),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("Linux_FTP")]),t._v(" "),a("p",[t._v("[toc]\n@[FTP]（500 OOPS: vsftpd: refusing to run with writable root inside chroot()\n500 OOPS: priv_sock_get_cm)")]),t._v(" "),a("h1",{attrs:{id:"限定目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#限定目录"}},[t._v("#")]),t._v(" 限定目录")]),t._v(" "),a("blockquote",[a("p",[t._v("chroot_list_enable=YES/NO（NO）")])]),t._v(" "),a("p",[t._v("设置是否启用chroot_list_file配置项指定的用户列表文件。默认值为NO。")]),t._v(" "),a("blockquote",[a("p",[t._v("chroot_list_file=/etc/vsftpd.chroot_list")])]),t._v(" "),a("p",[t._v("用于指定用户列表文件，该文件用于控制哪些用户可以切换到用户家目录的上级目录。")]),t._v(" "),a("blockquote",[a("p",[t._v("chroot_local_user=YES/NO（NO）")])]),t._v(" "),a("p",[t._v("用于指定用户列表文件中的用户是否允许切换到上级目录。默认值为NO。\n"),a("strong",[t._v("参考")]),t._v(": "),a("a",{attrs:{href:"https://www.cnblogs.com/LiuChang-blog/p/10491519.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("vsftpd.conf配置文件详解"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("h2",{attrs:{id:"登录问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#登录问题"}},[t._v("#")]),t._v(" 登录问题")]),t._v(" "),a("blockquote",[a("p",[t._v("500 OOPS: vsftpd: refusing to run with writable root inside chroot()\n500 OOPS: priv_sock_get_cm")])]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\\Windows\\system32"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("ftp "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("193")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx\n连接到 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("193")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx。\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("220")]),t._v(" Welcom vsftpd server\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" Always "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UTF8")]),t._v(" mode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("用户")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("193")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxx"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("none"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" xx\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("331")]),t._v(" Please specify the password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("密码")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OOPS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" vsftpd"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" refusing to run "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" writable root inside "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("chroot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OOPS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" priv_sock_get_cmd\n登录失败。\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("h2",{attrs:{id:"解决方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决方式"}},[t._v("#")]),t._v(" 解决方式")]),t._v(" "),a("p",[t._v("[原文]发现ftp用户的家目录在/var/ftp，就是这个/var/ftp的权限不对所致，这个目录的权限是不能打开所有权限的；是运行了 "),a("strong",[t._v("chmod 777 /var/ftp")]),t._v(" 所致.")]),t._v(" "),a("blockquote",[a("p",[t._v("chmod 755 /var/ftp")])]),t._v(" "),a("p",[a("strong",[t._v("参考")]),t._v(": "),a("a",{attrs:{href:"https://www.cnblogs.com/Darlin356230410/p/4488286.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("500 OOPS: vsftpd: refusing to run with writable anonymous root"),a("OutboundLink")],1),t._v(".")])])}),[],!1,null,null,null);s.default=r.exports}}]);