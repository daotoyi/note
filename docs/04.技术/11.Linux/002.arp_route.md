---
title: arp_route
date: 2022-04-30 17:20:55
permalink: /pages/9d48ef/
categories:
  - 技术
  - Linux
tags:
  - 
---
网络 转发/映射

[toc]
#  ARP表
将硬件地址和网络地址相互映射。IP地址到以太网MAC地址的解析主要也是动态生成，无须网络管理员手工处理。

无论是主机还是路由器，他们的 ARP 表最重要的是网络地址和硬件地址这两项，最常用的也就是 IP 地址和 MAC 地址这两项的映射关系，这是 ARP 表的本质作用。

- 在Windows下 arp -d [$ip] 不指定IP地址时清除所有arp缓存 。
- 在Linux下 arp -d $ip 必须指定IP地址才能执行这条命令的此参数， 所有在Linux系统下 arp -d $ip 命令只能清除一个IP地址的对应MAC地址缓存。

ARP缓存具有两种类型的条目。 它们被称为`static`和`dynamic` 。
## dynamic
ARP请求后，动态条目由操作系统填充。 返回的ARP响应将放入ARP缓存中.

每个动态ARP缓存项的潜在生命周期是10分钟。新加到缓存中的项目带有时间戳，如果某个项目添加后2分钟内没有再使用，则此项目过期并从ARP缓存中删除；

如果某个项目始终在使用，则会另外收到2分钟的生命周期，一直到10分钟的最长生命周期。

## static
静态条目是通过通过手工配置和维护，不会不会被老化，不会被动态ARP表项覆盖。直到重新启动计算机为止。

```shell
# 显示arp列表
arp -n (-a)

# 增加一个静态表项
arp -s 10.1.1.1 00:11:22:33:44:55:66

# 删除
arp -d 192.168.122.50
```

# 路由表

[[Linux 路由表详解及 route 命令详解| 路由表详解]]
[[ping请求错误分析]]
[[127.0.0.1和0.0.0.0地址的区别]]

数据最终转发依靠的虽然不是路由表，但路由表是一个向导，指引着数据的走向，让数据能跨越网络.

具有路由功能的设备的某个IP地址，就是网关。即，网关是路由器上的一个IP地址，路由器是一个进行转发的实体。

# 交换机转发表
表项：
- 目的地址
- 地址类型
- VLAN
- 目的端口
 
