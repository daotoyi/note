---
title: Bitcoin
date: 2022-03-24 00:18:07
permalink: /pages/832bd7/
categories:
  - 投资
  - 比特币
tags:
  - 
---
Bitcoin

[比特币入门教程](https://ruanyifeng.com/blog/2018/01/bitcoin-tutorial.html)

# BTC

## Foreword

比特币（bitcoin）诞生于2008年的一篇论文。一个署名为中本聪的人，提出了革命性的构想：<u>让我们创造一种不受政府或其他任何人控制的货币！</u>

## 非对称加密

公钥是公开的，任何人都可以获取。私钥是保密的，只有拥有者才能使用。他人使用你的公钥加密信息，然后发送给你，你用私钥解密，取出信息。

反过来，你也可以用私钥加密信息，别人用你的公钥解开，从而证明这个信息确实是你发出的，且未被篡改，这叫做数字签名。

**非对称加密保证了支付的可靠性。**

## 比特币钱包

- 比特币钱包（wallet）
  **这个钱包不是用来存放比特币，而是存放你的公钥和私钥。** 软件会帮你生成这两把钥匙，然后放在钱包里面。

根据协议，公钥的长度是512位。这个长度不太方便传播，因此协议又规定，要为公钥生成一个160位的指纹。所谓==指纹==，就是一个比较短的、易于传播的哈希值。

160位是二进制，写成十六进制，大约是26到35个字符，比如 1BvBMSEYstWetqTFn5Au4m4GFg7xJaNVN2。这个字符串就叫做钱包的地址，它是唯一的，即每个钱包的地址肯定都是不一样的。

## 交易过程

**一笔交易就是一个地址的比特币转移到另一个地址。**

比特币协议规定，申报交易的时候，除了交易金额，转出比特币的一方还必须提供以下数据。

1. 上一笔交易的 Hash（你从哪里得到这些比特币）
2. 本次交易双方的地址
3. 支付方的公钥
4. 支付方的私钥生成的数字签名

验证这笔交易是否属实，需要三步。

- 第一步，找到上一笔交易，确认支付方的比特币来源。
- 第二步，算出支付方公钥的指纹，确认与支付方的地址一致，从而保证公钥属实。
- 第三步，使用公钥去解开数字签名，保证私钥属实。

经过上面三步，就可以认定这笔交易是真实的。

## 交易确认与区块链

交易数据必须写入数据库，才算成立，对方才能真正收到钱。

所有的交易数据都会传送到矿工那里。矿工负责把这些交易写入区块链。

根据比特币协议，一个区块的大小最大是 1MB，而一笔交易大概是500字节左右，因此一个区块最多可以包含2000多笔交易。矿工负责把这2000多笔交易打包在一起，组成一个区块，然后计算这个区块的哈希。

**计算哈希的过程叫做==采矿==，这需要大量的计算。矿工之间也在竞争，谁先算出哈希，谁就能第一个添加新区块进入区块链，从而享受这个区块的全部收益，而其他矿工将一无所获。**

一笔交易一旦写入了区块链，就无法反悔了。

**比特币不存放在钱包或其他别的地方，而是只存在于区块链上面。**

## 矿工的收益

比特币协议规定，挖到新区块的矿工将获得奖励，**一开始（2008年）是50个比特币，然后每4年减半**，目前（2018年）是12.5个比特币。这也是比特币的供给增加机制，流通中新增的比特币都是这样诞生的。

由于**比特币可以分割到小数点后八位**，那么到了==2140==年，矿工将得不到任何奖励，比特币的数量也将停止增加。这时，矿工的收益就完全依靠**交易手续费**了。

#### 交易手续费

所谓交易手续费，就是矿工可以从每笔交易抽成，具体的金额由支付方自愿决定。你完全可以一毛不拔，一分钱也不给矿工，但是那样的话，你的交易就会没人处理，迟迟无法写入区块链，得到确认。矿工们总是优先处理手续费最高的交易。

> 目前(2018年)由于交易数量猛增，手续费已经水涨船高，一个区块2000多笔交易的手续费总额可以达到3～10个比特币。如果你的手续费给低了，很可能过了一个星期，交易还没确认。
> 一个区块的奖励金12.5个比特币，再加上手续费，收益是相当可观的。按照目前的价格，可以达到100万～200万人民币。想想看，运气好的话，几分钟就能挖到一个区块，拿到这样一大笔钱，怪不得人们对挖矿趋之若鹜。

# BCH

比特币协议规定，平均10分钟诞生一个区块。区块的大小只有 1MB，最多只能包含2000多笔交易。也就是说，比特币网络每10分钟，最多只能处理2000多笔交易，换算一下，就是处理速度为3～5笔/秒。

全世界的比特币交易这么多，可是区块链每秒最多只能处理5笔，这已经成为制约比特币发展的一个瓶颈。

在2017年8月区块链发生了一次分叉，诞生了一个新协议，称为 Bitcoin Cash（简称 BCH）。这种新货币其他方面都与比特币一致，就是**每个区块的大小从 1MB 增加到了 8MB**，因此处理速度提升了8倍，手续费也低得多。该协议是对原有区块链的分叉，因此当时持有比特币的人，等于一人获赠了一份同样数量的 BCH。

# Extension

## 点对点网络

比特币是一个全世界的开放网络，只要你有服务器，就能加入这个网络，成为一个节点。每个节点都包含了整个区块链（目前大概 100多 GB），并且节点之间时刻不停地在同步信息。

当你发生了一笔支付，你所在的节点就会把这笔交易告诉另一个节点，直至传遍整个网络。
