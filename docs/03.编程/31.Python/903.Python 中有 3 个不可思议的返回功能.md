---
created: 2021-09-25T16:32:38 (UTC +08:00)
tags: []
source: https://mp.weixin.qq.com/s/hqHbQlTLFeW30x36SYAkrA
author: null
title: Python ä¸­æœ‰ 3 ä¸ªä¸å¯æ€è®®çš„è¿”å›åŠŸèƒ½
date: 2023-10-07 22:57:33
permalink: /pages/af70e2/
categories: 
  - ç¼–ç¨‹
  - Python
---

# Python ä¸­æœ‰ 3 ä¸ªä¸å¯æ€è®®çš„è¿”å›åŠŸèƒ½

> ## Excerpt
> ä»Šå¤©ç»™å¤§å®¶åˆ†äº« 3Â ä¸ªæ¯”è¾ƒå†·é—¨çš„çŸ¥è¯†

---
ä»Šå¤©ç»™å¤§å®¶åˆ†äº« 3 ä¸ªæ¯”è¾ƒå†·é—¨çš„çŸ¥è¯†

## ç¬¬ä¸€ä¸ªï¼šç¥å¥‡çš„å­—å…¸é”®

```
some_dictÂ =Â {}some_dict[5.5]Â =Â "Ruby"some_dict[5.0]Â =Â "JavaScript"some_dict[5]Â =Â "Python"
```

Output:

```
>>>Â some_dict[5.5]"Ruby">>>Â some_dict[5.0]"Python">>>Â some_dict[5]"Python"
```

"Python" æ¶ˆé™¤äº† "JavaScript" çš„å­˜åœ¨ï¼Ÿ

#### ğŸ’¡ è¯´æ˜:

-   Python å­—å…¸é€šè¿‡æ£€æŸ¥é”®å€¼æ˜¯å¦ç›¸ç­‰å’Œæ¯”è¾ƒå“ˆå¸Œå€¼æ¥ç¡®å®šä¸¤ä¸ªé”®æ˜¯å¦ç›¸åŒ.
    
-   å…·æœ‰ç›¸åŒå€¼çš„ä¸å¯å˜å¯¹è±¡åœ¨Pythonä¸­å§‹ç»ˆå…·æœ‰ç›¸åŒçš„å“ˆå¸Œå€¼.
    

æ³¨æ„: å…·æœ‰ä¸åŒå€¼çš„å¯¹è±¡ä¹Ÿå¯èƒ½å…·æœ‰ç›¸åŒçš„å“ˆå¸Œå€¼ï¼ˆå“ˆå¸Œå†²çªï¼‰.

```
>>>Â 5Â ==Â 5.0True>>>Â hash(5)Â ==Â hash(5.0)True
```

å½“æ‰§è¡ŒÂ `some_dict[5] = "Python"`Â è¯­å¥æ—¶, å› ä¸ºPythonå°†Â `5`Â å’ŒÂ `5.0`Â è¯†åˆ«ä¸ºÂ `some_dict`Â çš„åŒä¸€ä¸ªé”®, æ‰€ä»¥å·²æœ‰å€¼ "JavaScript" å°±è¢« "Python" è¦†ç›–äº†

## ç¬¬äºŒä¸ªï¼šå¼‚å¸¸å¤„ç†ä¸­çš„return

```
defÂ some_func():Â Â Â Â try:Â Â Â Â Â Â Â Â returnÂ 'from_try'Â Â Â Â finally:Â Â Â Â Â Â Â Â returnÂ 'from_finally'
```

Output:

```
>>>Â some_func()'from_finally'
```

#### ğŸ’¡ è¯´æ˜:

-   å½“åœ¨ "tryâ€¦finally" è¯­å¥çš„Â `try`Â ä¸­æ‰§è¡ŒÂ `return`,Â `break`Â æˆ–Â `continue`Â å,Â `finally`Â å­å¥ä¾ç„¶ä¼šæ‰§è¡Œ.
    
-   å‡½æ•°çš„è¿”å›å€¼ç”±æœ€åæ‰§è¡Œçš„Â `return`Â è¯­å¥å†³å®š. ç”±äºÂ `finally`Â å­å¥ä¸€å®šä¼šæ‰§è¡Œ, æ‰€ä»¥Â `finally`Â å­å¥ä¸­çš„Â `return`Â å°†å§‹ç»ˆæ˜¯æœ€åæ‰§è¡Œçš„è¯­å¥.
    

## ç¬¬ä¸‰ä¸ªï¼šç›¸åŒå¯¹è±¡çš„åˆ¤æ–­

```
classÂ WTF:Â Â pass
```

Output:

```
>>>Â WTF()Â ==Â WTF()Â #Â ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡åº”è¯¥ä¸ç›¸ç­‰False>>>Â WTF()Â isÂ WTF()Â #Â ä¹Ÿä¸ç›¸åŒFalse>>>Â hash(WTF())Â ==Â hash(WTF())Â #Â å“ˆå¸Œå€¼ä¹Ÿåº”è¯¥ä¸åŒTrue>>>Â id(WTF())Â ==Â id(WTF())True
```

#### ğŸ’¡ è¯´æ˜:

-   å½“è°ƒç”¨Â `id`Â å‡½æ•°æ—¶, Python åˆ›å»ºäº†ä¸€ä¸ªÂ `WTF`Â ç±»çš„å¯¹è±¡å¹¶ä¼ ç»™Â `id`Â å‡½æ•°. ç„¶åÂ `id`Â å‡½æ•°è·å–å…¶idå€¼ (ä¹Ÿå°±æ˜¯å†…å­˜åœ°å€), ç„¶åä¸¢å¼ƒè¯¥å¯¹è±¡. è¯¥å¯¹è±¡å°±è¢«é”€æ¯äº†.
    
-   å½“æˆ‘ä»¬è¿ç»­ä¸¤æ¬¡è¿›è¡Œè¿™ä¸ªæ“ä½œæ—¶, Pythonä¼šå°†ç›¸åŒçš„å†…å­˜åœ°å€åˆ†é…ç»™ç¬¬äºŒä¸ªå¯¹è±¡. å› ä¸º (åœ¨CPythonä¸­)Â `id`Â å‡½æ•°ä½¿ç”¨å¯¹è±¡çš„å†…å­˜åœ°å€ä½œä¸ºå¯¹è±¡çš„idå€¼, æ‰€ä»¥ä¸¤ä¸ªå¯¹è±¡çš„idå€¼æ˜¯ç›¸åŒçš„.
    
-   ç»¼ä¸Š, å¯¹è±¡çš„idå€¼ä»…ä»…åœ¨å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå†…å”¯ä¸€. åœ¨å¯¹è±¡è¢«é”€æ¯ä¹‹å, æˆ–è¢«åˆ›å»ºä¹‹å‰, å…¶ä»–å¯¹è±¡å¯ä»¥å…·æœ‰ç›¸åŒçš„idå€¼.
    
-   é‚£ä¸ºä»€ä¹ˆÂ `is`Â æ“ä½œçš„ç»“æœä¸ºÂ `False`Â å‘¢? è®©æˆ‘ä»¬çœ‹çœ‹è¿™æ®µä»£ç .
    

```
classÂ WTF(object):Â Â defÂ __init__(self):Â print("I")Â Â defÂ __del__(self):Â print("D")
```

Output:

```
>>>Â WTF()Â isÂ WTF()IIDDFalse>>>Â id(WTF())Â ==Â id(WTF())IDIDTrue
```

æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„, å¯¹è±¡é”€æ¯çš„é¡ºåºæ˜¯é€ æˆæ‰€æœ‰ä¸åŒä¹‹å¤„çš„åŸå› .

åŸæ–‡é“¾æ¥ï¼š[https://github.com/leisurelicht/wtfpython-cn](https://github.com/leisurelicht/wtfpython-cn)
